<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rosamia - Florer√≠a</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Your existing styles remain the same */
        body {
            background-color: #ffe6ee;
            overflow-x: hidden;
            font-family: 'Arial', sans-serif;
        }
        .header {
            background-color: #ff85a2;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        /* ... rest of your existing styles ... */
    </style>
</head>
<body>
    <!-- Root element for React -->
    <div id="root"></div>

    <!-- Modal de Publicidad (now managed by React) -->
    <div id="modal-root"></div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- React Components -->
    <script type="text/babel">
        // Product Data
        const products = [
            {
                id: 1,
                title: "Box Sun Flower",
                description: "Hermoso arreglo con girasoles frescos, follaje y tarjeta dedicatoria",
                price: "2 Girasoles: S/30 | 3 Girasoles: S/40",
                priceValue: 30,
                img: "Imagen_de_Ejemplo.jpg"
            },
            {
                id: 2,
                title: "Ramo de Rosas Rojas",
                description: "12 rosas rojas premium con follaje y envoltura elegante",
                price: "S/ 120.00",
                priceValue: 120,
                img: "https://images.unsplash.com/photo-1526047932273-341f2a7631f9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            // Add all other products here...
        ];

        // Main App Component
        function App() {
            const [cart, setCart] = React.useState([]);
            const [showAdModal, setShowAdModal] = React.useState(true);
            const [showCartModal, setShowCartModal] = React.useState(false);

            // Add to cart function
            const addToCart = (product) => {
                setCart(prevCart => {
                    const existingItem = prevCart.find(item => item.id === product.id);
                    if (existingItem) {
                        return prevCart.map(item =>
                            item.id === product.id 
                                ? {...item, quantity: item.quantity + 1}
                                : item
                        );
                    } else {
                        return [...prevCart, {
                            ...product,
                            quantity: 1
                        }];
                    }
                });
            };

            // Remove from cart function
            const removeFromCart = (productId) => {
                setCart(prevCart => prevCart.filter(item => item.id !== productId));
            };

            // Update quantity function
            const updateQuantity = (productId, newQuantity) => {
                if (newQuantity < 1) {
                    removeFromCart(productId);
                    return;
                }
                
                setCart(prevCart => 
                    prevCart.map(item =>
                        item.id === productId
                            ? {...item, quantity: newQuantity}
                            : item
                    )
                );
            };

            // Calculate total
            const calculateTotal = () => {
                return cart.reduce((sum, item) => sum + (item.priceValue * item.quantity), 0);
            };

            // Header Component
            const Header = () => (
                <header className="header">
                    <div className="container">
                        <div className="row align-items-center">
                            <div className="col-md-6">
                                <h1 className="logo">Rosa Mia</h1>
                                <p className="slogan">Flores que hablan por ti</p>
                            </div>
                            <div className="col-md-6">
                                <div className="d-flex justify-content-end align-items-center">
                                    <a href="#inicio" className="nav-link">Inicio</a>
                                    <a href="#nosotros" className="nav-link">Sobre Nosotros</a>
                                    <a href="#productos" className="nav-link">Productos</a>
                                    <div className="carrito-icono" onClick={() => setShowCartModal(true)}>
                                        <i className="fas fa-shopping-cart"></i>
                                        <span className="badge bg-danger">
                                            {cart.reduce((sum, item) => sum + item.quantity, 0)}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
            );

            // Banner Component
            const Banner = () => (
                <section className="banner" id="inicio">
                    <div className="container-fluid px-0">
                        <div className="banner-imagen position-relative">
                            <img src="486350063_122118873296766373_1986679044842714012_n (1).png" 
                                 alt="Rosam√≠a - Flores y arreglos florales" className="img-fluid w-100" />
                        </div>
                    </div>
                </section>
            );

            // About Us Component
            const AboutUs = () => (
                <section className="container my-5 py-5 sobre-nosotros-frame" id="nosotros">
                    <div className="row">
                        <div className="col-lg-6">
                            <div className="floating-content">
                                <h2 className="mb-4">Sobre Nosotros</h2>
                                <div className="floating-text">
                                    <p>En Rosam√≠a nos dedicamos a crear arreglos florales √∫nicos que transmiten emociones y alegran los momentos especiales de nuestros clientes.</p>
                                    <p>Fundada en 2025, nuestra florister√≠a se ha convertido en un referente de calidad y creatividad en el dise√±o floral, combinando tradici√≥n e innovaci√≥n.</p>
                                    <p>Nuestro equipo de floristas profesionales se capacita constantemente para ofrecerte las √∫ltimas tendencias en dise√±o floral.</p>
                                    <p>En Rosam√≠a, hacemos que cada detalle cuente. üéÅ‚ú® Te ayudamos a sorprender con los mejores ramos a un precio incre√≠ble, llenos de belleza y significado. üåπüíï Cada creaci√≥n est√° pensada para transmitir amor, alegr√≠a y gratitud, haciendo de cada ocasi√≥n un recuerdo inolvidable.</p>
                                </div>
                            </div>
                        </div>
                        <div className="col-lg-6">
                            <div className="floating-image">
                                <img src="492705513_122127464264766373_3563118344499598635_n (2).jpg" 
                                     alt="Florister√≠a Rosam√≠a" className="img-fluid rounded" />
                            </div>
                        </div>
                    </div>
                </section>
            );

            // Video Section Component
            const VideoSection = () => (
                <section className="video-section" id="videos">
                    <div className="container">
                        <h2 className="text-center mb-5 display-4" style={{color: '#ff85a2', textShadow: '2px 2px 4px rgba(0,0,0,0.1)'}}>Nuestros Productos en Video</h2>
                        <div className="row">
                            <div className="col-md-4">
                                <div className="video-container video-float">
                                    <video controls className="w-100"> 
                                        <source src="TikSave.io-7496249258962685239-(1080p).mp4" type="video/mp4" />           
                                        Tu navegador no soporta el elemento de video.
                                    </video>
                                    <h4 className="video-title">Box Sun Flower</h4>
                                </div>
                            </div>
                            <div className="col-md-4">
                                <div className="video-container video-float" style={{animationDelay: '0.3s'}}>
                                    <video controls className="w-100">
                                        <source src="TikSave.io_7472465832962968838-hd.mp4" type="video/mp4" />
                                        Tu navegador no soporta el elemento de video.
                                    </video>
                                    <h4 className="video-title">Ramo Premium</h4>
                                </div>
                            </div>
                            <div className="col-md-4">
                                <div className="video-container video-float" style={{animationDelay: '0.6s'}}>
                                    <video controls className="w-100">
                                        <source src="TikSave.io_7479095563217145093.mp4" type="video/mp4" />
                                        Tu navegador no soporta el elemento de video.
                                    </video>
                                    <h4 className="video-title">Peluches</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );

            // Product Card Component
            const ProductCard = ({ product }) => (
                <div className="col-md-4 mb-4">
                    <div className="card card-producto h-100">
                        <img src={product.img} className="card-img-top" alt={product.title} />
                        <div className="card-body">
                            <h5 className="card-title">{product.title}</h5>
                            <p className="card-text">{product.description}</p>
                            <p className="precio">{product.price}</p>
                            <button className="btn btn-primary" onClick={() => addToCart(product)}>
                                <i className="fas fa-cart-plus me-2"></i>A√±adir al carrito
                            </button>
                        </div>
                    </div>
                </div>
            );

            // Products Section Component
            const ProductsSection = () => (
                <main className="container my-5" id="productos">
                    <h2 className="text-center mb-4 display-4" style={{color: '#ff85a2'}}>Nuestros Productos</h2>
                    <div className="row">
                        {products.map(product => (
                            <ProductCard key={product.id} product={product} />
                        ))}
                    </div>
                </main>
            );

            // Footer Component
            const Footer = () => (
                <footer className="py-4 mt-5">
                    <div className="container">
                        <div className="row">
                            <div className="col-md-4">
                                <h5>Rosam√≠a</h5>
                                <p>En Rosam√≠a, hacemos que cada detalle cuente. üéÅ‚ú®
                                    Te ayudamos a sorprender con los mejores ramos a un precio incre√≠ble, llenos de belleza y significado. üåπüíï</p>
                            </div>
                            <div className="col-md-4">
                                <h5>Contacto</h5>
                                <p><i className="fas fa-map-marker-alt me-2"></i> Jr Julio c Tello 503</p>
                                <p><i className="fas fa-phone me-2"></i> +51 931754214</p>
                                <p><i className="fab fa-whatsapp me-2"></i> +51 931754214</p>
                            </div>
                            <div className="col-md-4">
                                <h5>Horario</h5>
                                <p>Lunes a Viernes: 9am - 7pm</p>
                                <p>S√°bados: 9am - 2pm</p>
                                <p>Domingos: Cerrado</p>
                            </div>
                        </div>
                        <hr />
                        <div className="text-center">
                            <p>&copy; 2025 Rosam√≠a</p>
                        </div>
                    </div>
                </footer>
            );

            // Cart Modal Component
            const CartModal = () => (
                <div className={`modal fade ${showCartModal ? 'show d-block' : ''}`} tabIndex="-1" style={{backgroundColor: showCartModal ? 'rgba(0,0,0,0.5)' : 'transparent'}}>
                    <div className="modal-dialog modal-lg">
                        <div className="modal-content">
                            <div className="modal-header bg-primary text-white">
                                <h5 className="modal-title"><i className="fas fa-shopping-cart me-2"></i>Tu Carrito</h5>
                                <button type="button" className="btn-close btn-close-white" onClick={() => setShowCartModal(false)}></button>
                            </div>
                            <div className="modal-body">
                                {cart.length === 0 ? (
                                    <div className="text-center py-4">
                                        <i className="fas fa-shopping-basket fa-3x text-muted mb-3"></i>
                                        <p className="text-muted">Tu carrito est√° vac√≠o</p>
                                    </div>
                                ) : (
                                    <>
                                        <div className="mb-3">
                                            {cart.map(item => (
                                                <div key={item.id} className="item-carrito d-flex justify-content-between align-items-center mb-3">
                                                    <div className="d-flex align-items-center">
                                                        <img src={item.img} alt={item.title} style={{width: '70px', height: '70px', objectFit: 'cover', borderRadius: '10px', marginRight: '15px', boxShadow: '0 4px 8px rgba(0,0,0,0.1)'}} />
                                                        <div>
                                                            <h6>{item.title}</h6>
                                                            <div className="d-flex align-items-center">
                                                                <button className="btn btn-sm btn-outline-secondary" onClick={() => updateQuantity(item.id, item.quantity - 1)}>
                                                                    <i className="fas fa-minus"></i>
                                                                </button>
                                                                <span className="mx-2">{item.quantity}</span>
                                                                <button className="btn btn-sm btn-outline-secondary" onClick={() => updateQuantity(item.id, item.quantity + 1)}>
                                                                    <i className="fas fa-plus"></i>
                                                                </button>
                                                                <span className="ms-3">S/ {item.priceValue.toFixed(2)} c/u</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <span className="fw-bold">S/ {(item.priceValue * item.quantity).toFixed(2)}</span>
                                                        <button className="btn btn-sm btn-outline-danger ms-2" onClick={() => removeFromCart(item.id)}>
                                                            <i className="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="total-carrito bg-light p-3 rounded">
                                            <h5 className="mb-0">Total: <span className="text-danger">S/ {calculateTotal().toFixed(2)}</span></h5>
                                        </div>
                                        
                                        <div className="mt-4 text-center">
                                            <h5 className="mb-3">M√©todos de Pago</h5>
                                            <div className="d-flex justify-content-center align-items-center metodos-pago">
                                                <div className="text-center me-4">
                                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Yape_logo.svg/1200px-Yape_logo.svg.png" alt="Yape" style={{maxHeight: '60px'}} />
                                                    <p className="mt-2 mb-1">Yape</p>
                                                    <small className="text-muted">931754214</small>
                                                </div>
                                                <div className="text-center">
                                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Banco_de_Cr%C3%A9dito_del_Per%C3%BA_logo.svg/1200px-Banco_de_Cr%C3%A9dito_del_Per%C3%BA_logo.svg.png" alt="BCP" style={{maxHeight: '60px'}} />
                                                    <p className="mt-2 mb-1">BCP</p>
                                                    <small className="text-muted">191-12345678-0-00</small>
                                                </div>
                                            </div>
                                            <div className="mt-3">
                                                <p className="text-muted">Despu√©s de realizar el pago, env√≠anos el comprobante por WhatsApp</p>
                                                <a href="https://wa.me/51931754214" target="_blank" className="btn btn-success">
                                                    <i className="fab fa-whatsapp me-2"></i> Enviar comprobante
                                                </a>
                                            </div>
                                        </div>
                                    </>
                                )}
                            </div>
                            <div className="modal-footer">
                                <button type="button" className="btn btn-secondary" onClick={() => setShowCartModal(false)}>Seguir Comprando</button>
                                <button type="button" className="btn btn-danger" onClick={() => setCart([])} disabled={cart.length === 0}>
                                    <i className="fas fa-trash-alt me-1"></i> Vaciar
                                </button>
                                <button type="button" className="btn btn-success" disabled={cart.length === 0} onClick={() => {
                                    alert('Compra realizada con √©xito!');
                                    setCart([]);
                                    setShowCartModal(false);
                                }}>
                                    <i className="fas fa-credit-card me-1"></i> Pagar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Ad Modal Component
            const AdModal = () => (
                <div className={`modal fade ${showAdModal ? 'show d-block' : ''}`} tabIndex="-1" style={{backgroundColor: showAdModal ? 'rgba(0,0,0,0.5)' : 'transparent'}}>
                    <div className="modal-dialog modal-dialog-centered modal-lg">
                        <div className="modal-content border-0 overflow-hidden">
                            <button type="button" className="btn btn-cerrar-publicidad" onClick={() => setShowAdModal(false)} style={{
                                position: 'absolute',
                                top: '10px',
                                right: '10px',
                                zIndex: '10',
                                background: 'rgba(0,0,0,0.5)',
                                color: 'white',
                                border: 'none',
                                borderRadius: '50%',
                                width: '30px',
                                height: '30px',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center'
                            }}>
                                <i className="fas fa-times"></i>
                            </button>
                            <div className="modal-body p-0 position-relative">
                                <img src="492705513_122127464264766373_3563118344499598635_n (2).jpg" 
                                     alt="Oferta Especial" className="publicidad-img w-100" />
                                <div className="position-absolute bottom-0 start-0 end-0 p-4 text-center text-white" 
                                     style={{background: 'linear-gradient(transparent, rgba(0,0,0,0.8))'}}>
                                    <h1 className="display-4 mb-3">Rosam√≠a</h1>
                                    <p className="lead mb-4">En Rosam√≠a, hacemos que cada detalle cuente. üéÅ‚ú®<br /> 
                                    Te ayudamos a sorprender con los mejores ramos a un precio incre√≠ble,<br />
                                    llenos de belleza y significado. üåπüíï</p>
                                    <div className="d-grid gap-2 d-sm-flex justify-content-sm-center">
                                        <button type="button" className="btn btn-outline-light btn-lg px-4" onClick={() => window.open('tu_catalogo.pdf', '_blank')}>
                                            Abrir Cat√°logo PDF
                                        </button>
                                        <button type="button" className="btn btn-danger btn-lg px-4" onClick={() => window.open('https://wa.me/51931754214', '_blank')}>
                                            <i className="fab fa-whatsapp me-2"></i> Pedir por WhatsApp
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Notification Component
            const Notification = ({ message, show, onClose }) => (
                <div className="position-fixed bottom-0 end-0 p-3" style={{zIndex: '11', display: show ? 'block' : 'none'}}>
                    <div className="toast show" role="alert" aria-live="assertive" aria-atomic="true">
                        <div className="toast-header bg-primary text-white">
                            <strong className="me-auto">Rosam√≠a</strong>
                            <button type="button" className="btn-close btn-close-white" onClick={onClose}></button>
                        </div>
                        <div className="toast-body">
                            {message}
                        </div>
                    </div>
                </div>
            );

            return (
                <>
                    <Header />
                    <Banner />
                    <AboutUs />
                    <VideoSection />
                    <ProductsSection />
                    <Footer />
                    <CartModal />
                    
                    {/* Render AdModal in modal-root */}
                    {ReactDOM.createPortal(
                        <AdModal />,
                        document.getElementById('modal-root')
                    )}
                </>
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>